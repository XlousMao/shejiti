# 第五章：回溯与分支界限 · 第一题

5.1 用回溯法求下列不等式的所有的整数解。要求给出伪码和解。

![](data:image/x-wmf;base64,183GmgAAAAAAAOIOPAXsCQAAAAAjVQEACQAAA/EBAAACABwAAAAAAAUAAAAJAgAAAAAFAAAAAgEBAAAABQAAAAEC////AAUAAAAuARgAAAAFAAAACwIAAAAABQAAAAwCwASADRIAAAAmBg8AGgD/////AAAQAAAAwP///6X///9ADQAAZQQAAAsAAAAmBg8ADABNYXRoVHlwZQAAAAEcAAAA+wKA/gAAAAAAAJABAAAAAgQCABBTeW1ib2wADAAACgBo1A4F/v///3DdGQBcJIx2QAAAAAQAAAAtAQAACAAAADIKRwQ6AAEAAADuIggAAAAyCgIDOgABAAAA7QAIAAAAMgq9AToAAQAAAOweCAAAADIKogFhCgEAAACjHggAAAAyCqIB5wYBAAAAKwAIAAAAMgqiAXEDAQAAACsAHAAAAPsCgP4AAAAAAACQAQAAAIYEAgAQVGltZXMgTmV3IFJvbWFuAP7///9w3RkAXCSMdkAAAAAEAAAALQEBAAQAAADwAQAADAAAADIK4gPABQoAAADOqrfHuLrV+8r9HAAAAPsCgP4AAAAAAACQAQAAAAAEAgAQVGltZXMgTmV3IFJvbWFuAP7///9w3RkAXCSMdkAAAAAEAAAALQEAAAQAAADwAQEACAAAADIK4gMIBAEAAAAseQgAAAAyCuIDJAIBAAAALB4IAAAAMgqiAWMLAgAAADEyCAAAADIKogEBCAEAAAAyMggAAAAyCqIBiwQBAAAANCIIAAAAMgqiAUsBAQAAADMeHAAAAPsCIP8AAAAAAACQAQAAAAAEAgAQVGltZXMgTmV3IFJvbWFuAP7///9w3RkAXCSMdkAAAAAEAAAALQEBAAQAAADwAQAACAAAADIKQgRQBQEAAAAzeQgAAAAyCkIEcwMBAAAAMgAIAAAAMgpCBKABAQAAADEyCAAAADIKAgJ/CQEAAAAzAAgAAAAyCgICEAYBAAAAMnkIAAAAMgoCAqsCAQAAADEAHAAAAPsCgP4AAAAAAACQAQEAAAAEAgAQVGltZXMgTmV3IFJvbWFuAP7///9w3RkAXCSMdkAAAAAEAAAALQEAAAQAAADwAQEACAAAADIK4gOqBAEAAAB4HggAAAAyCuIDxgIBAAAAeAAIAAAAMgriAwwBAQAAAHgACAAAADIKogHZCAEAAAB4IggAAAAyCqIBYwUBAAAAeB4IAAAAMgqiARcCAQAAAHgACgAAACYGDwAKAP////8BAAAAAAAcAAAA+wIQAAcAAAAAALwCAAAAhgECAiJTeXN0ZW0APrQAigUAAAoACh5mPgoeZj60AIoF0N4ZAAQAAAAtAQEABAAAAPABAAADAAAAAAA=)

线性规划？没有目标函数，只有约束条件？三重循环？百鸡百蛋问题

34个解。即

(0，0，0)，(0，0，1)，(0，0，2)，(0，0，3)，(0，0，4)，(0，0，5)，(0，0，6)，(0，1，0)，(0，1，1)，(0，1，2)，(0，1，3)，(0，1，4)，(0，2，0)，(0，2，1)，(0，2，2)，(0，3，0)，(1，0，0)，(1，0，1)，(1，0，2)，(1，0，3)，(1，0，4)，(1，1，0)，(1，1，1)，(1，1，2)，(1，2，0)，(2，0，0)，(2，0，1)，(2，0，2)，(2，0，3)，(2，1，0)，(2，1，1)，(3，0，0)，(3，0，1)，(4，0，0)

https://blog.csdn.net/m0\_53641110/article/details/121803672

#include <iostream>

using namespace std;

int n,b,a\[4\];

int x\[4\],j=0,sum=0;

void Backtrace1(int i)

{

if(i>n)

{

j++;

return;

}

for(int v=0;v<=b/a\[i\];v++)

{

if(sum+a\[i\]\*v<=b)

{

x\[i\]=v;

sum+=a\[i\]\*v;

Backtrace1(i+1);

sum-=a\[i\]\*v;

}//if

else

break;

}//for

}

void Backtrace2(int i)

{

if(i>n)

{

cout<<"<";

for(int i=1;i<n;i++)

cout<<x\[i\]<<",";

cout<<x\[n\]<<">"<<endl;

return;

}

for(int v=0;v<=b/a\[i\];v++)

{

if(sum+a\[i\]\*v<=b)

{

x\[i\]=v;

sum+=a\[i\]\*v;

Backtrace2(i+1);

sum-=a\[i\]\*v;

}//if

else

break;

}//for

}

int main()

{

while(cin>>n>>b)

{

for(int i=1;i<=n;i++)

cin>>a\[i\];

Backtrace1(1);

cout<<j<<endl;

Backtrace2(1);

}

return 0;

}

/\*

3x1+4x2+2x3<=12,x1,x2,x3为a非?负o整?数簓

//////////////////////////////////

3 12

3 4 2

//////////////////////////////////

34

<0,0,0>

<0,0,1>

<0,0,2>

<0,0,3>

<0,0,4>

<0,0,5>

<0,0,6>

<0,1,0>

<0,1,1>

<0,1,2>

<0,1,3>

<0,1,4>

<0,2,0>

<0,2,1>

<0,2,2>

<0,3,0>

<1,0,0>

<1,0,1>

<1,0,2>

<1,0,3>

<1,0,4>

<1,1,0>

<1,1,1>

<1,1,2>

<1,2,0>

<2,0,0>

<2,0,1>

<2,0,2>

<2,0,3>

<2,1,0>

<2,1,1>

<3,0,0>

<3,0,1>

<4,0,0>

\*/
